---
標題：量子線路描述：瞭解如何使用量子電路圖表以視覺化方式呈現簡單且複雜的量子運算。
author： QuantumWriter uid： benbra ms. ms. date： 12/11/2017 ms. 主題：概念無 loc：
- "Q#"
- "$$v"
- "$$"
- "$$"
- "$"
- "$"
- "$"
- "$$"
- "\cdots"
- "bmatrix"
- "\ddots"
- "\equiv"
- "\sum"
- "\begin"
- "\end"
- "\sqrt"
- "\otimes"
- "{"
- "}"
- "\text"
- "\phi"
- "\kappa"
- "\psi"
- "\alpha"
- "\beta"
- "\gamma"
- "\delta"
- "\omega"
- "\bra"
- "\ket"
- "\boldone"
- "\\\\"
- "\\"
- "="
- "\frac"
- "\text"
- "\mapsto"
- "\dagger"
- "\to"
- "\begin{cases}"
- "\end{cases}"
- "\operatorname"
- "\braket"
- "\id"
- "\expect"
- "\defeq"
- "\variance"
- "\dd"
- "&"
- "\begin{align}"
- "\end{align}"
- "\Lambda"
- "\lambda"
- "\Omega"
- "\mathrm"
- "\left"
- "\right"
- "\qquad"
- "\times"
- "\big"
- "\langle"
- "\rangle"
- "\bigg"
- "\Big"
- "|"
- "\mathbb"
- "\vec"
- "\in"
- "\texttt"
- "\ne"
- "<"
- ">"
- "\leq"
- "\geq"
- "~~"
- "~"
- "\begin{bmatrix}"
- "\end{bmatrix}"
- "\_"

---

# <a name="quantum-circuits"></a>量子線路
請考慮一下單一轉換 $ \text { CNOT } _ { 01 } (H \otimes 1) $ 。
此閘道序列對於量子運算而言很重要，因為它會建立一個充分纏結雙量子位狀態：

$$\mathrm{CNOT } _ { 01 } (H \otimes 1) \ket { 00 } = \frac { 1 } { \sqrt { 2 } } \left (\ket { 00 }  +  \ket { 11 } \right) ，$$

具有這項或更高複雜度的作業在量子演算法和量子錯誤修正中很常見，因此，其視覺效果有一個簡單的方法，稱為 *量子電路圖*，因此應該會有很大的降低。
準備此充分纏結量子狀態的電路圖為：

<!--- ![](.\media\1.svg) --->
<!--找不到可輕鬆將其置中的方法 .。。可能是需要的延伸模組：-->
![充分纏結雙量子位狀態的電路圖](~/media/1.svg)

## <a name="quantum-circuit-diagram-conventions"></a>量子電路圖慣例
當您瞭解用來表示量子電路的慣例之後，這種適用于量子作業的視覺化語言可以更容易消化。
我們會在下方探討這些慣例。

在電路圖中，每個實線都描述量子位或更一般量子位的註冊。
依照慣例，頂端的行是量子位 register $ 0 $ ，其餘部分則會依序標示。 上述的範例電路在兩個量子位 (或等同于一個量子位) 的兩個暫存器上進行描述。
以一個或多個量子位暫存器為依據的閘道會以方塊表示。
例如，符號

<!--- ![](.\media\2.svg) --->
<!--找不到可輕鬆將其置中的方法 .。。可能是需要的延伸模組：-->
![Hadamard 作業的符號，可在單一量子位暫存器上運作](~/media/2.svg)

是在單一量子位登錄上進行的 [Hadamard](xref:Microsoft.Quantum.Intrinsic.H) 作業。

量子閘道會依時間順序排序，最左邊的閘道會先套用至量子位。
換句話說，如果您將電線畫成固定的配量狀態，則線路會在圖表中的每個閘道之間，從左至右都帶著量子狀態。
也就是說 

<!--- ![](.\media\3.svg) --->
<!--找不到可輕鬆將其置中的方法 .。。可能是需要的延伸模組：-->
![從左至右套用的量子閘道圖](~/media/3.svg)

是單一矩陣 $ CBA $ 。
矩陣乘法遵守相反的慣例：先套用最右邊的矩陣。 不過，在量子電路圖中，最左邊的閘道會先套用。
這項差異有時候可能會造成混淆，因此請務必注意線性代數標記法與量子電路圖表之間的這項重大差異。

## <a name="inputs-and-outputs-of-quantum-circuits"></a>量子線路的輸入和輸出
上述所有先前的範例都有相同數目的線路 (量子位) 輸入至量子閘道，作為量子閘道的線路數目。
通常，量子電路可能會有比一般輸入更多或更少的輸出。
不過，這是不可能的，因為所有的量子作業（儲存測量）都是單一的，因此是可還原的。
如果它們沒有與輸入相同的輸出數目，它們將不會是可還原的，因此不是單一的，這是一項矛盾。
基於這個理由，在電路圖中繪製的任何方塊都必須有相同數目的線路，才能將它結束。

多量子位的電路圖表會遵循類似的慣例來進行單一量子位。
舉例而言，我們可以將兩個量子位的單一作業 B 定義 $ $ 為 $ (H S \otimes X) $ ，並將電路表示為

<!--- ![](.\media\4.svg) --->
<!--找不到可輕鬆將其置中的方法 .。。可能是需要的延伸模組：-->
![雙量子位單一作業的電路圖](~/media/4.svg)

我們也可以根據 $ $ 使用電路的內容，在單一雙量子位登錄上查看 B，而不是在 2 1-量子位暫存器上執行動作。 這類抽象電路圖的最有用的屬性，就是它們可讓您以較高的層級來描述複雜的量子演算法，而不需要將它們編譯成基本閘道。
這表示您可以直覺大型量子演算法的資料流程，而不需要瞭解演算法內每個副程式如何運作的所有詳細資料。

## <a name="controlled-gates"></a>控制的閘道
內建在多量子位量子電路圖表中的另一個結構是 control。
量子單一控制閘道的動作（表示 $ \Lambda (G) $ ，其中單一量子位的值會控制 g 的應用程式 $ $ ），方法是查看下列產品狀態輸入的範例 $ \Lambda (g)  (\alpha \ket { 0 }  +  \beta \ket { 1 }) \ket { \psi } = \alpha \ket { 0 } \ket { \psi }  +  \beta \ket { 1 } G \ket { \psi } $ 。也就是說，受控制的閘道會將 $ G 套用 $ 至包含 if 的註冊， $ \psi $ 而且只有在控制項量子位接受值1時才套用 $ $ 。
一般而言，我們會將這類受控制的作業描述為

<!--- ![](.\media\5.svg) --->
<!--找不到可輕鬆將其置中的方法 .。。可能是需要的延伸模組：-->
![單一控制閘道的電路圖](~/media/5.svg)

在這裡，黑色圓圈表示控制閘道的量子位，而垂直線路則代表當控制項量子位接受值1時所套用的單一 $ $ 。
在 $ g X 和 g Z 的特殊情況下， = $ $ = $ 我們引進下列標記法來描述受控制的閘道版本 (請注意，受控制的 X 閘道是[ $ CNOT 網 $ 關](xref:Microsoft.Quantum.Intrinsic.CNOT)) ：

<!--- ![](.\media\6.svg) --->
<!--找不到可輕鬆將其置中的方法 .。。可能是需要的延伸模組：-->
![控制閘道特殊案例的電路圖](~/media/6.svg)

Q# 提供自動產生受控制版本之作業的方法，讓程式設計人員不必將這些作業交給程式碼。 範例如下所示：

```qsharp
operation PrepareSuperposition(qubit : Qubit) : Unit
is Ctl { // Auto-generate the controlled specialization of the operation
    H(qubit);
}
```

## <a name="measurement-operator"></a>測量運算子
在電路圖中以視覺化方式呈現的其餘作業是測量。
測量會採用量子位註冊、加以測量，並將結果輸出為傳統資訊。
度量作業是由計量符號表示，並一律以量子位暫存器的輸入作為輸入， (以實線表示) 並輸出傳統資訊 (以雙線) 表示。
具體來說，這類 subcircuit 看起來像這樣：

<!--- ![](.\media\7.svg) ---->
<!--找不到可輕鬆將其置中的方法 .。。可能是需要的延伸模組：-->
![代表測量運算的符號](~/media/7.svg)

Q# 針對此目的實作為 [量值運算子](xref:Microsoft.Quantum.Intrinsic.Measure) 。
如需詳細資訊，請參閱 [度量一節](xref:microsoft.quantum.libraries.standard.prelude#measurements) 。

同樣地，subcircuit

<!--- ![](.\media\8.svg) --->
<!--找不到可輕鬆將其置中的方法 .。。可能是需要的延伸模組：-->
![代表受控制作業的電路圖](~/media/8.svg)

提供傳統方式控制的閘道，其中 G 會套用至實 $ $ 值為1的傳統控制項位 $ $ 。

## <a name="teleportation-circuit-diagram"></a>遙傳電路圖
量子遙傳可能是用來說明這些元件的最佳量子演算法。
您可以瞭解對應的 [量子 Kata](xref:microsoft.quantum.overview.katas) 量子遙傳是在量子電腦中移動資料的一種方法， (或甚至是在量子網路中的遠端量子電腦之間，) 透過使用纏結和測量。
有趣的是，它實際上能夠將量子狀態（例如指定量子位中的值）從一個量子位移至另一個，而不需要知道量子位的值為何！
這是必要的，才能讓通訊協定根據量子機制的法律運作。
量子遙傳線路如下所述;我們也會提供已標注的線路版本，以說明如何讀取量子電路。

<!--- ![](.\media\tp2.svg) { 寬度 = 50%} --->
![量子遙傳電路](~/media/tp2.svg)
